{"ast":null,"code":"import _asyncToGenerator from\"/Volumes/Data Drive/Daniyal/React/Runmator_Dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Volumes/Data Drive/Daniyal/React/Runmator_Dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Volumes/Data Drive/Daniyal/React/Runmator_Dashboard/node_modules/@babel/runtime/regenerator/index.js\";/* eslint-disable react/prop-types */ // Soft UI Dashboard React components\nimport MDBox from\"components/MDBox\";import MDTypography from\"components/MDTypography\";import MDAvatar from\"components/MDAvatar\";import MDBadge from\"components/MDBadge\";import MDButton from\"components/MDButton\";// Images\n// import logoXD from \"assets/images/small-logos/logo-xd.svg\";\n// import logoAtlassian from \"assets/images/small-logos/logo-atlassian.svg\";\n// import logoSlack from \"assets/images/small-logos/logo-slack.svg\";\n// import logoSpotify from \"assets/images/small-logos/logo-spotify.svg\";\n// import logoJira from \"assets/images/small-logos/logo-jira.svg\";\n// import logoInvesion from \"assets/images/small-logos/logo-invision.svg\";\nimport team2 from\"assets/images/accident.png\";import team3 from\"assets/images/battery.png\";import team4 from\"assets/images/flattyre.png\";import team5 from\"assets/images/fuelout.png\";import team6 from\"assets/images/towing.png\";import{useEffect,useState}from\"react\";import{connect,useDispatch}from\"react-redux\";import{useSelector}from\"react-redux\";import{getAllServices}from\"store/Actions\";import{deactivateService}from\"store/Actions\";import{activateService}from\"store/Actions\";import{updateService}from\"store/Actions\";import{imageUrl}from\"configuration/config\";import{addService}from\"store/Actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function servicesData(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),services=_useState2[0],setServices=_useState2[1];var userAuthReducer=useSelector(function(state){return state===null||state===void 0?void 0:state.userAuthReducer;});var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var accessToken=\"16|NeLmmgHSYJdPFN3bwlsSAi2yG8octgtBoJYEzbgv\";var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showEditModal=_useState6[0],setShowEditModal=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showAddModal=_useState8[0],setShowAddModal=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),selectedItem=_useState10[0],setSelectedItem=_useState10[1];var dispatch=useDispatch();var Author=function Author(_ref){var image=_ref.image,name=_ref.name,email=_ref.email;return/*#__PURE__*/_jsxs(MDBox,{display:\"flex\",alignItems:\"center\",lineHeight:1,children:[/*#__PURE__*/_jsx(MDAvatar,{src:image,name:name,size:\"sm\"}),/*#__PURE__*/_jsxs(MDBox,{ml:2,lineHeight:1,children:[/*#__PURE__*/_jsx(MDTypography,{display:\"block\",variant:\"button\",fontWeight:\"medium\",children:name}),/*#__PURE__*/_jsx(MDTypography,{variant:\"caption\",children:email})]})]});};var Job=function Job(_ref2){var title=_ref2.title,description=_ref2.description;return/*#__PURE__*/_jsxs(MDBox,{lineHeight:1,textAlign:\"left\",children:[/*#__PURE__*/_jsx(MDTypography,{display:\"block\",variant:\"caption\",color:\"text\",fontWeight:\"medium\",children:title}),/*#__PURE__*/_jsx(MDTypography,{variant:\"caption\",children:description})]});};useEffect(function(){setIsLoading(true);dispatch(getAllServices()).then(function(){setIsLoading(false);});},[]);useEffect(function(){var _userAuthReducer$serv;if((userAuthReducer===null||userAuthReducer===void 0?void 0:(_userAuthReducer$serv=userAuthReducer.services)===null||_userAuthReducer$serv===void 0?void 0:_userAuthReducer$serv.length)>0){setServices(userAuthReducer===null||userAuthReducer===void 0?void 0:userAuthReducer.services);}},[userAuthReducer===null||userAuthReducer===void 0?void 0:userAuthReducer.services]);var _onClickAction=function _onClickAction(ele){setIsLoading(true);if((ele===null||ele===void 0?void 0:ele.services_status)==1){dispatch(deactivateService(accessToken,ele===null||ele===void 0?void 0:ele.id)).then(function(){dispatch(getAllServices()).then(function(){setIsLoading(false);});});}if((ele===null||ele===void 0?void 0:ele.services_status)==0){dispatch(activateService(accessToken,ele===null||ele===void 0?void 0:ele.id)).then(function(){dispatch(getAllServices()).then(function(){setIsLoading(false);});});}};var _onSubmitUploadEdit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(serviceName,serviceIcon,servicePrice){var formData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();formData.append(\"services_name\",serviceName);formData.append(\"services_icon\",serviceIcon);formData.append(\"services_price\",servicePrice);setIsLoading(true);dispatch(updateService(accessToken,formData,selectedItem===null||selectedItem===void 0?void 0:selectedItem.id)).then(function(){dispatch(getAllServices()).then(function(){setIsLoading(false);setSelectedItem(null);setShowEditModal(false);});});case 6:case\"end\":return _context.stop();}}},_callee);}));return function _onSubmitUploadEdit(_x,_x2,_x3){return _ref3.apply(this,arguments);};}();var _onSubmitUploadAdd=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(serviceName,serviceIcon,servicePrice){var formData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formData=new FormData();formData.append(\"services_name\",serviceName);formData.append(\"services_icon\",serviceIcon);formData.append(\"services_price\",servicePrice);setIsLoading(true);dispatch(addService(accessToken,formData)).then(function(){dispatch(getAllServices()).then(function(){setIsLoading(false);setShowAddModal(false);});});case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function _onSubmitUploadAdd(_x4,_x5,_x6){return _ref4.apply(this,arguments);};}();useEffect(function(){if(selectedItem!==null){setShowEditModal(true);}},[selectedItem]);return{columns:[{Header:\"service\",accessor:\"service\",width:\"30%\",align:\"left\"},{Header:\"status\",accessor:\"status\",align:\"center\"},{Header:\"price\",accessor:\"price\",align:\"center\"},{Header:\"action\",accessor:\"action\",align:\"center\"},{Header:\"activity\",accessor:\"activity\",align:\"center\"}],rows:services===null||services===void 0?void 0:services.map(function(ele){return{service:/*#__PURE__*/_jsx(Author,{image:\"\".concat(imageUrl).concat(ele===null||ele===void 0?void 0:ele.services_icon,\"/\").concat(ele===null||ele===void 0?void 0:ele.services_icon),name:ele.services_name,email:\"\"}),status:/*#__PURE__*/_jsx(MDBox,{ml:-1,children:/*#__PURE__*/_jsx(MDBadge,{badgeContent:(ele===null||ele===void 0?void 0:ele.services_status)===0?\"INACTIVE\":\"ACTIVE\",color:(ele===null||ele===void 0?void 0:ele.services_status)===0?\"dark\":\"success\",variant:\"gradient\",size:\"sm\"})}),price:/*#__PURE__*/_jsx(MDTypography,{variant:\"button\",fontWeight:\"regular\",display:\"block\",color:\"info\"// fontWeight=\"medium\"\n,textGradient:true,children:ele.services_price?\"$\".concat(ele.services_price,\".00\"):\"$0.00\"}),action:/*#__PURE__*/_jsx(MDBox,{onClick:function onClick(){setSelectedItem(ele);},children:/*#__PURE__*/_jsx(MDButton,{variant:\"gradient\",color:\"secondary\",children:\"Edit Details\"})}),activity:isLoading?/*#__PURE__*/_jsx(MDTypography,{variant:\"button\",fontWeight:\"regular\",display:\"block\",color:\"info\"// fontWeight=\"medium\"\n,textGradient:true,children:\"Please Wait\"}):/*#__PURE__*/_jsx(MDBox,{onClick:function onClick(){setIsLoading(true);_onClickAction(ele);},children:/*#__PURE__*/_jsx(MDButton,{variant:\"gradient\",color:\"secondary\",children:(ele===null||ele===void 0?void 0:ele.services_status)===1?\"Deactivate Now\":\"Activate Now\"})})};}),showEditModal:showEditModal,setShowEditModal:setShowEditModal,showAddModal:showAddModal,setShowAddModal:setShowAddModal,selectedItem:selectedItem,isLoading:isLoading,onSubmitEdit:_onSubmitUploadEdit,onSubmitAdd:_onSubmitUploadAdd};}// const mapStateToProps = ({ userAuthReducer }) => {\n//   return { userAuthReducer };\n// };\n// export default connect(null, null)(servicesData);\nexport default servicesData;","map":{"version":3,"sources":["/Volumes/Data Drive/Daniyal/React/Runmator_Dashboard/src/layouts/services/data/servicesData.js"],"names":["MDBox","MDTypography","MDAvatar","MDBadge","MDButton","team2","team3","team4","team5","team6","useEffect","useState","connect","useDispatch","useSelector","getAllServices","deactivateService","activateService","updateService","imageUrl","addService","servicesData","services","setServices","userAuthReducer","state","isLoading","setIsLoading","accessToken","showEditModal","setShowEditModal","showAddModal","setShowAddModal","selectedItem","setSelectedItem","dispatch","Author","image","name","email","Job","title","description","then","length","_onClickAction","ele","services_status","id","_onSubmitUploadEdit","serviceName","serviceIcon","servicePrice","formData","FormData","append","_onSubmitUploadAdd","columns","Header","accessor","width","align","rows","map","service","services_icon","services_name","status","price","services_price","action","activity","onSubmitEdit","onSubmitAdd"],"mappings":"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","sourcesContent":["/* eslint-disable react/prop-types */\n\n// Soft UI Dashboard React components\nimport MDBox from \"components/MDBox\";\nimport MDTypography from \"components/MDTypography\";\nimport MDAvatar from \"components/MDAvatar\";\nimport MDBadge from \"components/MDBadge\";\nimport MDButton from \"components/MDButton\";\n\n// Images\n// import logoXD from \"assets/images/small-logos/logo-xd.svg\";\n// import logoAtlassian from \"assets/images/small-logos/logo-atlassian.svg\";\n// import logoSlack from \"assets/images/small-logos/logo-slack.svg\";\n// import logoSpotify from \"assets/images/small-logos/logo-spotify.svg\";\n// import logoJira from \"assets/images/small-logos/logo-jira.svg\";\n// import logoInvesion from \"assets/images/small-logos/logo-invision.svg\";\nimport team2 from \"assets/images/accident.png\";\nimport team3 from \"assets/images/battery.png\";\nimport team4 from \"assets/images/flattyre.png\";\nimport team5 from \"assets/images/fuelout.png\";\nimport team6 from \"assets/images/towing.png\";\nimport { useEffect, useState } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { getAllServices } from \"store/Actions\";\nimport { deactivateService } from \"store/Actions\";\nimport { activateService } from \"store/Actions\";\nimport { updateService } from \"store/Actions\";\nimport { imageUrl } from \"configuration/config\";\nimport { addService } from \"store/Actions\";\n\nfunction servicesData() {\n  const [services, setServices] = useState([]);\n  const userAuthReducer = useSelector((state) => state?.userAuthReducer);\n  const [isLoading, setIsLoading] = useState(false);\n  const accessToken = \"16|NeLmmgHSYJdPFN3bwlsSAi2yG8octgtBoJYEzbgv\";\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const dispatch = useDispatch();\n\n  const Author = ({ image, name, email }) => (\n    <MDBox display=\"flex\" alignItems=\"center\" lineHeight={1}>\n      <MDAvatar src={image} name={name} size=\"sm\" />\n      <MDBox ml={2} lineHeight={1}>\n        <MDTypography display=\"block\" variant=\"button\" fontWeight=\"medium\">\n          {name}\n        </MDTypography>\n        <MDTypography variant=\"caption\">{email}</MDTypography>\n      </MDBox>\n    </MDBox>\n  );\n\n  const Job = ({ title, description }) => (\n    <MDBox lineHeight={1} textAlign=\"left\">\n      <MDTypography\n        display=\"block\"\n        variant=\"caption\"\n        color=\"text\"\n        fontWeight=\"medium\"\n      >\n        {title}\n      </MDTypography>\n      <MDTypography variant=\"caption\">{description}</MDTypography>\n    </MDBox>\n  );\n\n  useEffect(() => {\n    setIsLoading(true);\n    dispatch(getAllServices()).then(() => {\n      setIsLoading(false);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (userAuthReducer?.services?.length > 0) {\n      setServices(userAuthReducer?.services);\n    }\n  }, [userAuthReducer?.services]);\n\n  const _onClickAction = (ele) => {\n    setIsLoading(true);\n\n    if (ele?.services_status == 1) {\n      dispatch(deactivateService(accessToken, ele?.id)).then(() => {\n        dispatch(getAllServices()).then(() => {\n          setIsLoading(false);\n        });\n      });\n    }\n    if (ele?.services_status == 0) {\n      dispatch(activateService(accessToken, ele?.id)).then(() => {\n        dispatch(getAllServices()).then(() => {\n          setIsLoading(false);\n        });\n      });\n    }\n  };\n\n  const _onSubmitUploadEdit = async (serviceName, serviceIcon,servicePrice) => {\n    const formData = new FormData();\n    formData.append(\"services_name\", serviceName);\n    formData.append(\"services_icon\", serviceIcon);\n    formData.append(\"services_price\", servicePrice);\n\n    setIsLoading(true);\n\n    dispatch(updateService(accessToken, formData, selectedItem?.id)).then(\n      () => {\n        dispatch(getAllServices()).then(() => {\n          setIsLoading(false);\n          setSelectedItem(null);\n          setShowEditModal(false);\n        });\n      }\n    );\n  };\n\n  const _onSubmitUploadAdd = async (serviceName, serviceIcon, servicePrice) => {\n    const formData = new FormData();\n    formData.append(\"services_name\", serviceName);\n    formData.append(\"services_icon\", serviceIcon);\n    formData.append(\"services_price\", servicePrice);\n\n    setIsLoading(true);\n\n    dispatch(addService(accessToken, formData)).then(() => {\n      dispatch(getAllServices()).then(() => {\n        setIsLoading(false);\n        setShowAddModal(false);\n      });\n    });\n  };\n\n  useEffect(() => {\n    if (selectedItem !== null) {\n      setShowEditModal(true);\n    }\n  }, [selectedItem]);\n  return {\n    columns: [\n      { Header: \"service\", accessor: \"service\", width: \"30%\", align: \"left\" },\n      { Header: \"status\", accessor: \"status\", align: \"center\" },\n      { Header: \"price\", accessor: \"price\", align: \"center\" },\n      { Header: \"action\", accessor: \"action\", align: \"center\" },\n      { Header: \"activity\", accessor: \"activity\", align: \"center\" },\n    ],\n\n    rows: services?.map((ele) => {\n      return {\n        service: (\n          <Author\n            image={`${imageUrl}${ele?.services_icon}/${ele?.services_icon}`}\n            name={ele.services_name}\n            email=\"\"\n          />\n        ),\n        status: (\n          <MDBox ml={-1}>\n            <MDBadge\n              badgeContent={ele?.services_status === 0 ? \"INACTIVE\" : \"ACTIVE\"}\n              color={ele?.services_status === 0 ? \"dark\" : \"success\"}\n              variant=\"gradient\"\n              size=\"sm\"\n            />\n          </MDBox>\n        ),\n        price: (\n          <MDTypography\n            variant=\"button\"\n            fontWeight=\"regular\"\n            display=\"block\"\n            color=\"info\"\n            // fontWeight=\"medium\"\n            textGradient\n          >\n            {ele.services_price ? `$${ele.services_price}.00` : `$0.00`}\n          </MDTypography>\n        ),\n\n        action: (\n          <MDBox\n            onClick={() => {\n              setSelectedItem(ele);\n            }}\n          >\n            <MDButton variant=\"gradient\" color=\"secondary\">\n              Edit Details\n            </MDButton>\n          </MDBox>\n        ),\n\n        activity: isLoading ? (\n          <MDTypography\n            variant=\"button\"\n            fontWeight=\"regular\"\n            display=\"block\"\n            color=\"info\"\n            // fontWeight=\"medium\"\n            textGradient\n          >\n            Please Wait\n          </MDTypography>\n        ) : (\n          <MDBox\n            onClick={() => {\n              setIsLoading(true);\n              _onClickAction(ele);\n            }}\n          >\n            <MDButton variant=\"gradient\" color=\"secondary\">\n              {ele?.services_status === 1 ? \"Deactivate Now\" : \"Activate Now\"}\n            </MDButton>\n          </MDBox>\n        ),\n      };\n    }),\n    showEditModal: showEditModal,\n    setShowEditModal: setShowEditModal,\n    showAddModal: showAddModal,\n    setShowAddModal: setShowAddModal,\n    selectedItem: selectedItem,\n    isLoading: isLoading,\n    onSubmitEdit: _onSubmitUploadEdit,\n    onSubmitAdd: _onSubmitUploadAdd,\n  };\n}\n\n// const mapStateToProps = ({ userAuthReducer }) => {\n//   return { userAuthReducer };\n// };\n\n// export default connect(null, null)(servicesData);\nexport default servicesData;\n"]},"metadata":{},"sourceType":"module"}