{"ast":null,"code":"import axios from \"axios\";\nimport { apiUrl } from \"configuration/config\";\nimport * as types from \"./actionType\";\nexport const AuthLoginAction = (email, password) => async dispatch => {\n  try {\n    const response = await axios.post(`https://online-books-app.herokuapp.com/api/users/login`, {\n      email: email,\n      password: password\n    });\n    console.log(response.data.user.token);\n\n    if (response.data.success) {\n      localStorage.setItem(\"token\", response.data.user.token);\n      dispatch({\n        type: types.AUTH_LOGGED_IN,\n        payload: {\n          token: response.data.user.token,\n          userData: response.data.user\n        }\n      });\n    }\n  } catch (e) {\n    dispatch({\n      type: types.AUTH_LOGGED_IN_ERROR,\n      payload: response.data\n    });\n    console.log(e);\n  }\n}; // export const AuthLoginAction = (email, password) => async (dispatch) => {\n//   console.log(`${apiUrl}/login`, email, password);\n//   const data = {\n//     email: email,\n//     password: password,\n//   };\n//   try {\n//     const response = await axios.post(`${apiUrl}/login`, data);\n//     console.log(response.data.user.token);\n//     // if (response.data.success) {\n//     //   localStorage.setItem(\"token\", response.data.token);\n//     //   dispatch({\n//     //     type: types.AUTH_LOGGED_IN,\n//     //     payload: {\n//     //       token: response.data.user.token,\n//     //       userData: response.data.user,\n//     //     },\n//     //   });\n//     // }\n//   } catch (e) {\n//     console.log(e.response.data);\n//     // dispatch({\n//     //   type: types.AUTH_LOGGED_IN_ERROR,\n//     //   payload: e.response.data.message,\n//     // });\n//   }\n// };\n\nexport const getAllUsers = token => async dispatch => {\n  try {\n    const headers = {\n      Authorization: `Bearer 1|1LhlQ5V0qnkAogHuEG70UAYK2eiUBUU6HBfhicRu`\n    };\n    const response = await axios.get(`${apiUrl}/admin/users`, {\n      headers\n    });\n\n    if (response.data.status) {\n      dispatch({\n        type: types.GET_ALL_USERS,\n        payload: response.data.data\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const deactivateUser = (token, id) => async dispatch => {\n  try {\n    const response = await axios.post(`${apiUrl}/admin/user/markAsDeactive/${id}`);\n\n    if (response.data.status) {\n      console.log(\"Deactivated\");\n    }\n  } catch (err) {\n    console.log(err.response.data.message);\n  }\n};\nexport const activateUser = (token, id) => async dispatch => {\n  try {\n    const response = await axios.post(`${apiUrl}/admin/user/markAsActive/${id}`);\n\n    if (response.data.status) {\n      console.log(\"Activated\");\n    }\n  } catch (err) {\n    console.log(err.response.data.message);\n  }\n};\nexport const getAllServices = token => async dispatch => {\n  console.log(\"token\", token);\n\n  try {\n    const headers = {\n      Authorization: `Bearer 1|1LhlQ5V0qnkAogHuEG70UAYK2eiUBUU6HBfhicRu`,\n      Accept: \"application/json\"\n    };\n    const response = await axios.get(`${apiUrl}/admin/services`, {\n      headers\n    });\n\n    if (response.data.status) {\n      dispatch({\n        type: types.GET_ALL_SERVICES,\n        payload: response.data.data\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const AuthLogoutAction = () => async dispatch => {\n  localStorage.removeItem(\"token\");\n  dispatch({\n    type: types.AUTH_LOGGED_OUT,\n    payload: {\n      token: \"\",\n      userData: \"\"\n    }\n  });\n};","map":{"version":3,"sources":["D:/Daniyal khan/React/Runmator_Dashboard/src/store/Actions/index.js"],"names":["axios","apiUrl","types","AuthLoginAction","email","password","dispatch","response","post","console","log","data","user","token","success","localStorage","setItem","type","AUTH_LOGGED_IN","payload","userData","e","AUTH_LOGGED_IN_ERROR","getAllUsers","headers","Authorization","get","status","GET_ALL_USERS","error","deactivateUser","id","err","message","activateUser","getAllServices","Accept","GET_ALL_SERVICES","AuthLogoutAction","removeItem","AUTH_LOGGED_OUT"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { apiUrl } from \"configuration/config\";\nimport * as types from \"./actionType\";\n\nexport const AuthLoginAction = (email, password) => async (dispatch) => {\n  try {\n    const response = await axios.post(\n      `https://online-books-app.herokuapp.com/api/users/login`,\n      {\n        email: email,\n        password: password,\n      }\n    );\n    console.log(response.data.user.token);\n    if (response.data.success) {\n      localStorage.setItem(\"token\", response.data.user.token);\n      dispatch({\n        type: types.AUTH_LOGGED_IN,\n        payload: {\n          token: response.data.user.token,\n          userData: response.data.user,\n        },\n      });\n    }\n  } catch (e) {\n    dispatch({\n      type: types.AUTH_LOGGED_IN_ERROR,\n      payload: response.data,\n    });\n    console.log(e);\n  }\n};\n\n// export const AuthLoginAction = (email, password) => async (dispatch) => {\n//   console.log(`${apiUrl}/login`, email, password);\n//   const data = {\n//     email: email,\n//     password: password,\n//   };\n\n//   try {\n//     const response = await axios.post(`${apiUrl}/login`, data);\n//     console.log(response.data.user.token);\n//     // if (response.data.success) {\n//     //   localStorage.setItem(\"token\", response.data.token);\n//     //   dispatch({\n//     //     type: types.AUTH_LOGGED_IN,\n//     //     payload: {\n//     //       token: response.data.user.token,\n//     //       userData: response.data.user,\n//     //     },\n//     //   });\n//     // }\n//   } catch (e) {\n//     console.log(e.response.data);\n//     // dispatch({\n//     //   type: types.AUTH_LOGGED_IN_ERROR,\n//     //   payload: e.response.data.message,\n//     // });\n//   }\n// };\n\nexport const getAllUsers = (token) => async (dispatch) => {\n  try {\n    const headers = {\n      Authorization: `Bearer 1|1LhlQ5V0qnkAogHuEG70UAYK2eiUBUU6HBfhicRu`,\n    };\n    const response = await axios.get(`${apiUrl}/admin/users`, {\n      headers,\n    });\n    if (response.data.status) {\n      dispatch({\n        type: types.GET_ALL_USERS,\n        payload: response.data.data,\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const deactivateUser = (token, id) => async (dispatch) => {\n  try {\n    const response = await axios.post(\n      `${apiUrl}/admin/user/markAsDeactive/${id}`\n    );\n    if (response.data.status) {\n      console.log(\"Deactivated\");\n    }\n  } catch (err) {\n    console.log(err.response.data.message);\n  }\n};\n\nexport const activateUser = (token, id) => async (dispatch) => {\n  try {\n    const response = await axios.post(\n      `${apiUrl}/admin/user/markAsActive/${id}`\n    );\n    if (response.data.status) {\n      console.log(\"Activated\");\n    }\n  } catch (err) {\n    console.log(err.response.data.message);\n  }\n};\n\nexport const getAllServices = (token) => async (dispatch) => {\n  console.log(\"token\", token);\n  try {\n    const headers = {\n      Authorization: `Bearer 1|1LhlQ5V0qnkAogHuEG70UAYK2eiUBUU6HBfhicRu`,\n      Accept: \"application/json\",\n    };\n    const response = await axios.get(`${apiUrl}/admin/services`, {\n      headers,\n    });\n    if (response.data.status) {\n      dispatch({\n        type: types.GET_ALL_SERVICES,\n        payload: response.data.data,\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const AuthLogoutAction = () => async (dispatch) => {\n  localStorage.removeItem(\"token\");\n  dispatch({\n    type: types.AUTH_LOGGED_OUT,\n    payload: {\n      token: \"\",\n      userData: \"\",\n    },\n  });\n};\n"]},"metadata":{},"sourceType":"module"}